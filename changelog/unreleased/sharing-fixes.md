Bugfix: Improve the sharing internals

We cleaned up the sharing code validation and comparisons.

https://github.com/cs3org/reva/pull/3022
