# This storage.toml config file will start a reva service that:
[shared]
jwt_secret = "Pive-Fumkiu4"
gatewaysvc = "localhost:19000"

# - authenticates grpc storage provider requests using the internal jwt token
# - authenticates http upload and download requests requests using basic auth
# - serves the storage provider on grpc port 11000
# - serves http dataprovider for this storage on port 11001
#   - /data - dataprovider: file up and download
[grpc]
address = "0.0.0.0:11110"

# This is a storage provider that grants direct access to the wrapped storage
# we have a locally running dataprovider
[grpc.services.storageprovider]
driver = "ocis"
mount_path = "/virtual"
mount_id = "virtual-l-z"
expose_data_server = true
data_server_url = "http://localhost:11111/data"

[grpc.services.storageprovider.drivers.ocis]
root = "/drone/src/tmp/reva/data-local-2"
owner = "4c510ada-c86b-4815-8820-42cdf82c3d51"
owner_idp = "http://localhost:20080"
owner_type = "USER_TYPE_PRIMARY"
enable_home = false
treetime_accounting = true
treesize_accounting = true

[http]
address = "0.0.0.0:11111"

[http.services.dataprovider]
driver = "ocis"
temp_folder = "/drone/src/tmp/reva/tmp"

[http.services.dataprovider.drivers.ocis]
root = "/drone/src/tmp/reva/data-local-2"
owner = "4c510ada-c86b-4815-8820-42cdf82c3d51"
owner_idp = "http://localhost:20080"
owner_type = "USER_TYPE_PRIMARY"
enable_home = false
treetime_accounting = true
treesize_accounting = true
